<div class="sidebar" [class.sidebar-open]="isOpen" [class.sidebar-closed]="!isOpen">
  <div class="sidebar-content">
    <!-- <div class="sidebar-header">
      <div class="app-logo">
        <img src="assets/images/logo.png" alt="Logo" class="logo-img">
        <span *ngIf="isOpen" class="logo-text">Omoumati</span>
      </div>
    </div>
    
    <mat-divider></mat-divider>-->
    
    <div class="nav-list">
      <ng-container *ngFor="let item of navItems">
        <!-- Élément avec sous-menu -->
        <ng-container *ngIf="item.children && (!item.requiredRole || hasRequiredRole(item.requiredRole))">
          <mat-expansion-panel class="nav-expansion">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <div class="nav-item">
                  <mat-icon>{{ item.icon }}</mat-icon>
                  <span *ngIf="isOpen" class="nav-label">{{ item.label }}</span>
                </div>
              </mat-panel-title>
            </mat-expansion-panel-header>
            
            <mat-nav-list>
              <a mat-list-item 
                 *ngFor="let child of item.children"
                 [routerLink]="child.route" 
                 routerLinkActive="active"
                 class="nav-subitem">
                <mat-icon>{{ child.icon }}</mat-icon>
                <span *ngIf="isOpen" class="nav-label">{{ child.label }}</span>
              </a>
            </mat-nav-list>
          </mat-expansion-panel>
        </ng-container>
        
        <!-- Élément simple -->
        <ng-container *ngIf="!item.children && (!item.requiredRole || hasRequiredRole(item.requiredRole))">
          <a mat-list-item 
             [routerLink]="item.route" 
             routerLinkActive="active"
             class="nav-item">
            <mat-icon>{{ item.icon }}</mat-icon>
            <span *ngIf="isOpen" class="nav-label">{{ item.label }}</span>
          </a>
        </ng-container>
      </ng-container>
    </div>
  </div>
</div> 